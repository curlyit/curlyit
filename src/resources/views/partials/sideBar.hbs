<link rel="stylesheet" href="/img">

<div class="side">
    <nav class="navbar bg-light side-bar-sticky" id="side-bar">
        <!-- Links -->
        <div class="pro">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="/home#view-body">
                    <i class="fas fa-home"></i>
                    <p>trang chủ</p>    
                </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/home#eat">
                    <i class="fas fa-cookie"></i>  
                    <p>Thực phẩm </p>    
                </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/home#accessory">
                    <i class="fas fa-suitcase"></i>
                    <p>Phụ kiện</p>
                </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/home#lineage">
                    <i class="fas fa-cat"></i>
                    <p>các giống mèo</p>
                    </a>
                </li>
                </ul>             
        </div>
        <div class="user">
            <p>Thông tin tài khoản</p> 
            <div><a href="" id="no-user" style="display: none;"><i class="fas fa-sign-in-alt"></i>  Login/Log out</a></div>  
            <div class="dropdown" style="display: none;">
                <button class="btn btn-info dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i id="user-icon" class="far fa-user"></i> {{user.username}}
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a class="dropdown-item" href="/user/manage">Quản lý sản phẩm</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <a id="log-out" class="dropdown-item" href="#">Đăng xuất</a>
                </div>
            </div>                            
        </div>
    </nav>
</div>

<script>
    if(`{{user.username}}` === ''){
        document.getElementById("no-user").style.display = 'block';
    }else{
        document.querySelector(".dropdown").style.display = 'block';
    }
    const userInfo = document.querySelector('#no-user');
    userInfo.addEventListener('click', function(e){ 
        e.preventDefault();  
        
        Swal.fire({
            title: 'Bạn chưa đăng nhập?',
            text: 'Đăng nhập ngay!',
            icon: 'question',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes'
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = "/user/login";
            }
        })
    })

    const logOut = document.querySelector('#log-out');
    logOut.addEventListener('click', function(e) {
        e.preventDefault();  
        
        Swal.fire({
            title: 'Đăng xuất!!',
            text: 'Bạn muốn đăng xuất?',
            icon: 'question',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes'
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = "/user/logout";
            }
        })
    })
</script>
